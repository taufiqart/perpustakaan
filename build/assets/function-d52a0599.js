import"./app-103d78c9.js";function p(o){return o=o.replace(/[`~!@#$%^&*()_\-+=\[\]{};:'"\\|\/,.<>?\s]/g," ").toLowerCase(),o=o.replace(/^\s+|\s+$/gm,""),o=o.replace(/\s+/g,"-"),o}function i(o,s,t,l){var e,n;e=new XMLHttpRequest,e.withCredentials=!0,e.open("POST",route("upload.images")),e.upload.onprogress=function(r){l(r.loaded/r.total*100)},e.onload=function(r){var a;if(e.status===403){t("HTTP Error: "+e.status,{remove:!0});return}if(e.status<200||e.status>=300){t("HTTP Error: "+e.status);return}if(console.log(e),console.log(r),console.log(o.blob()),a=JSON.parse(e.responseText),!a||typeof a.location!="string"){t("Invalid JSON: "+e.responseText);return}s(a.location)},e.onerror=function(){t("Image upload failed due to a XHR Transport error. Code: "+e.status)},n=new FormData,n.append("file",o.blob(),o.filename()),e.send(n)}export{p as c,i as t};
