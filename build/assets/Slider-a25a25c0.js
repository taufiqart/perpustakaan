import{r as n,W as M,q as L,a as s,F as q,j as e,b as O}from"./app-72eb3583.js";import{A as P}from"./AdminLayout-eb8a2cc8.js";import{D as m,M as v,S as C,a as W}from"./SecondaryButton-9f839a7d.js";import{P as w}from"./PrimaryButton-d4bd25f4.js";import{I as H,a as z}from"./TextInput-5d87e6af.js";import{B as D,A as a}from"./BookLoader-3800bd00.js";import{T as l}from"./Table-fa6d6331.js";function Y({sliders:u}){const[S,f]=n.useState(!1),[t,i]=n.useState(),[T,g]=n.useState(!1),c=()=>{g(!1),i(),b(),x()},A=r=>{h(r),g(!0)},d=()=>{f(!1),i(),b(),x()},k=()=>{f(!0)},{data:p,setData:h,errors:F,processing:o,post:j,put:G,delete:B,reset:b,clearErrors:x}=M({title:"",slug:""}),y=L().props;n.useEffect(()=>{var r;i(y.flash),(r=y.flash)!=null&&r.success&&setTimeout(()=>{d()},[1e3])},[o]);const E=r=>{r.preventDefault(),j(route("slider.store"))},I=r=>{r.preventDefault(),B(route("slider.delete",p.id),{onSuccess:()=>setTimeout(()=>c(),[1e3])})};return s(q,{children:[e(O,{title:"Slider"}),s(P,{children:[e("div",{className:"w-full flex gap-x-3 p-4 pt-0 pl-0 -mt-5",children:s(w,{onClick:()=>{k()},className:"inline-flex items-center px-4 py-2 bg-blue-400 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-600 focus:bg-blue-600 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e("i",{className:"fas fa-plus"}),"Add"]})}),s(l,{children:[e("thead",{children:s("tr",{children:[e(l.Th,{children:"No"}),e(l.Th,{children:"Image"}),e(l.Th,{})]})}),e("tbody",{children:u&&u.map((r,N)=>s("tr",{children:[e(l.Td,{children:N+1}),e(l.Td,{className:"!align-top",children:e("img",{src:r.image,alt:"",className:"h-40 object-contain"})}),e(l.Td,{className:"text-right",children:s(m,{children:[e(m.Trigger,{children:e("button",{type:"button",className:"inline-flex hover:bg-white rounded-full items-center w-7 justify-center h-7 border border-transparent text-sm font-medium  text-gray-500  hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:e("i",{className:"fas fa-ellipsis-v"})})}),e(m.Content,{children:s("div",{className:"block w-full px-4 py-2 text-left text-sm leading-5 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out !text-gray-500 hover:!text-gray-700",onClick:()=>A(r),children:[e("i",{className:"fas fa-trash"})," ","Hapus"]})})]})})]},N))})]}),s(v,{show:S,onClose:d,children:[e(D,{loader:o}),s("form",{className:"p-6  ",onSubmit:E,children:[!o&&(t==null?void 0:t.error)&&(t==null?void 0:t.error.map(r=>e(a,{type:"error",message:r.filename}))),!o&&(t==null?void 0:t.success)&&e(a,{type:"success",message:t==null?void 0:t.success}),s("div",{className:"mt-3",children:[e(H,{htmlFor:"image",value:"image"}),e("input",{id:"image",type:"file",accept:"image/*",required:!0,name:"image",multiple:!0,onChange:r=>h("image",r.target.files),className:`mt-1 block w-full text-sm text-slate-500 focus:outline-none focus:border-none
                            file:mr-4 file:py-2 file:px-4
                            file:rounded-full file:border-0
                            file:text-sm file:font-semibold
                            file:bg-violet-50 file:text-violet-700
                            hover:file:bg-violet-100`}),e(z,{message:F.title,className:"mt-2"})]}),s("div",{className:"mt-6 flex justify-end",children:[e(C,{onClick:d,children:"Cancel"}),e(w,{className:"ml-3 bg-blue-400 hover:bg-blue-600 focus:bg-blue-600",disabled:o,as:"button",children:"Submit"})]})]})]}),s(v,{show:T,onClose:c,maxWidth:"sm",children:[e(D,{loader:o}),s("form",{className:"p-6 w-full h-full",onSubmit:I,children:[!o&&(t==null?void 0:t.error)&&e(a,{type:"error",message:t==null?void 0:t.error}),!o&&(t==null?void 0:t.success)&&e(a,{type:"success",message:t==null?void 0:t.success}),e("h2",{className:"text-lg font-medium text-gray-500",children:"Are you sure you want to delete?"}),e("h2",{className:"text-lg font-medium text-gray-900",children:p.image}),s("div",{className:"mt-6 flex justify-end",children:[e(C,{onClick:c,children:"Cancel"}),e(W,{className:"ml-3",disabled:o,as:"button",children:"Delete"})]})]})]})]})]})}export{Y as default};
