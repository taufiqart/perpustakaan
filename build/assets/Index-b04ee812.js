import{r as i,W as A,q as F,a as r,F as w,j as e,b as C}from"./app-6459511e.js";import{A as S}from"./AdminLayout-5a85b604.js";import j from"./CardFile-60870de3.js";import{M as k,S as B}from"./SecondaryButton-57234cee.js";import{P as d}from"./PrimaryButton-bf089901.js";import{I as E,a as I}from"./TextInput-390c3620.js";import{B as L,A as m}from"./BookLoader-997586cf.js";function J({files:a}){const[f,n]=i.useState(!1),[t,u]=i.useState(),o=()=>{n(!1),u(),h(),v()},p=()=>{n(!0)},{data:M,setData:b,errors:g,processing:l,post:x,put:D,delete:P,reset:h,clearErrors:v}=A({title:"",slug:""}),c=F().props;i.useEffect(()=>{var s;u(c.flash),(s=c.flash)!=null&&s.success&&setTimeout(()=>{o()},[1e3])},[l]);const y=s=>{s.preventDefault(),x(route("file.store"))};return r(w,{children:[e(C,{title:"File Manager"}),r(S,{children:[e("div",{className:"w-full flex gap-x-3 p-4 pt-0 pl-0 -mt-5",children:r(d,{onClick:()=>{p()},className:"inline-flex items-center px-4 py-2 bg-blue-400 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-600 focus:bg-blue-600 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",children:[e("i",{className:"fas fa-plus"}),"Add"]})}),e("div",{className:"w-full h-full bg-slate-100 rounded-md relative justify-evenly flex flex-wrap p-4 gap-4",children:a&&a.map((s,N)=>e(j,{file:s},N))}),r(k,{show:f,onClose:o,children:[e(L,{loader:l}),r("form",{className:"p-6  ",onSubmit:y,children:[!l&&(t==null?void 0:t.error)&&(t==null?void 0:t.error.map(s=>e(m,{type:"error",message:s.filename}))),!l&&(t==null?void 0:t.success)&&e(m,{type:"success",message:t==null?void 0:t.success}),r("div",{className:"mt-3",children:[e(E,{htmlFor:"file",value:"file"}),e("input",{id:"file",type:"file",name:"file",multiple:!0,onChange:s=>b("file",s.target.files),className:`mt-1 block w-full text-sm text-slate-500 focus:outline-none focus:border-none
                            file:mr-4 file:py-2 file:px-4
                            file:rounded-full file:border-0
                            file:text-sm file:font-semibold
                            file:bg-violet-50 file:text-violet-700
                            hover:file:bg-violet-100`,placeholder:"title"}),e(I,{message:g.title,className:"mt-2"})]}),r("div",{className:"mt-6 flex justify-end",children:[e(B,{onClick:o,children:"Cancel"}),e(d,{className:"ml-3 bg-blue-400 hover:bg-blue-600 focus:bg-blue-600",disabled:l,as:"button",children:"Submit"})]})]})]})]})]})}export{J as default};
